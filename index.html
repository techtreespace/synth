<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>DIY Synthesizer</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --accent-color: #06b6d4;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --dark-bg: #0f172a;
            --dark-surface: #1e293b;
            --dark-card: #334155;
            --light-text: #f1f5f9;
            --muted-text: #94a3b8;
            --border-color: #475569;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            color: var(--light-text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-item {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-item:hover,
        .nav-item.active {
            background: var(--glass-bg);
            color: var(--primary-color);
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .mobile-menu-toggle:hover {
            background: var(--glass-bg);
        }

        /* Mobile Navigation */
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }

            .nav-menu {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(15, 23, 42, 0.98);
                backdrop-filter: blur(20px);
                border-radius: 0 0 1rem 1rem;
                border: 1px solid var(--border-color);
                border-top: none;
                padding: 1rem;
                gap: 0;
                flex-direction: column;
                transform: translateY(-20px);
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s ease;
                z-index: 1000;
            }

            .nav-menu.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }

            .nav-item {
                width: 100%;
                text-align: center;
                padding: 1rem;
                margin-bottom: 0.5rem;
                border-radius: 0.8rem;
            }
        }

        /* Navigation Arrows */
        .section-navigation {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.8rem;
            z-index: 999;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            padding: 0.8rem;
            border-radius: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .nav-arrow {
            background: var(--primary-color);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .nav-arrow:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        .nav-arrow:disabled {
            background: var(--muted-text);
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            opacity: 0.5;
        }

        @media (max-width: 480px) {
            .section-navigation {
                bottom: 1rem;
                padding: 0.6rem;
                gap: 0.6rem;
            }

            .nav-arrow {
                width: 36px;
                height: 36px;
                font-size: 0.9rem;
            }
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
            padding: 2rem 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section {
            min-height: calc(100vh - 80px);
            padding: 4rem 0;
            display: none;
        }

        .section.active {
            display: block;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            font-size: 1.2rem;
            text-align: center;
            color: var(--muted-text);
            margin-bottom: 4rem;
        }

        /* Glass Card */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        /* Grid Layouts */
        .grid {
            display: grid;
            gap: 2rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        /* Welcome Section */
        .hero {
            text-align: center;
            padding: 6rem 0;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: var(--muted-text);
            margin-bottom: 3rem;
        }

        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .feature-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        /* Waveform Demo */
        .waveform-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .waveform-card {
            background: var(--dark-card);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .waveform-card:hover {
            border-color: var(--primary-color);
            transform: scale(1.02);
        }

        .waveform-canvas {
            width: 100%;
            height: 80px;
            background: var(--dark-bg);
            border-radius: 0.5rem;
            margin: 1rem 0;
        }

        .play-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .play-button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .play-button:active {
            transform: translateY(0);
        }

        /* Synthesizer Interface */
        .synth-interface {
            background: var(--dark-surface);
            border-radius: 1.5rem;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .control-group {
            background: var(--glass-bg);
            border-radius: 1rem;
            padding: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
        }

        .control-group h3 {
            color: var(--primary-color);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .control-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .control-label {
            font-weight: 500;
            color: var(--light-text);
            min-width: 80px;
        }

        .control-input {
            flex: 1;
            margin: 0 1rem;
        }

        .control-value {
            min-width: 60px;
            text-align: center;
            font-weight: 600;
            color: var(--accent-color);
            background: var(--dark-bg);
            padding: 0.3rem 0.6rem;
            border-radius: 0.3rem;
        }

        /* Custom Range Slider */
        .range-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 6px;
            background: var(--dark-bg);
            border-radius: 3px;
            outline: none;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        /* Custom Select */
        .custom-select {
            background: var(--dark-bg);
            color: var(--light-text);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.8rem 1rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .custom-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        /* Recording Controls */
        .recording-panel {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .record-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border: none;
            border-radius: 0.8rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
            justify-content: center;
        }

        .record-btn.primary {
            background: linear-gradient(135deg, var(--error-color), #dc2626);
            color: white;
        }

        .record-btn.success {
            background: linear-gradient(135deg, var(--success-color), #059669);
            color: white;
        }

        .record-btn.warning {
            background: linear-gradient(135deg, var(--warning-color), #d97706);
            color: white;
        }

        .record-btn.secondary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .record-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .record-btn:active {
            transform: translateY(-1px);
        }

        .record-btn.recording {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Status Display */
        .status-display {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 0.8rem;
            padding: 1.5rem;
            text-align: center;
            margin: 2rem 0;
            font-weight: 500;
            color: var(--accent-color);
        }

        /* Piano Keyboard */
        .piano-wrapper {
            background: var(--dark-bg);
            border-radius: 1.5rem;
            padding: 2rem;
            overflow-x: auto;
            box-shadow: inset 0 8px 16px rgba(0, 0, 0, 0.4);
            -webkit-overflow-scrolling: touch;
        }

        .piano-keyboard {
            position: relative;
            height: 240px;
            width: 100%;
            max-width: 1500px;
            min-width: 800px;
            margin: 0 auto;
            border-radius: 0.5rem;
            overflow: visible;
        }

        .piano-key {
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.1s ease;
            position: absolute;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .white-key {
            background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 30%, #e9ecef 70%, #dee2e6 100%);
            color: #333;
            width: 60px;
            height: 240px;
            z-index: 1;
            padding-bottom: 1rem;
            border: 1px solid #ccc;
            border-top: 3px solid #ddd;
        }

        .black-key {
            background: linear-gradient(to bottom, #495057 0%, #343a40 30%, #212529 70%, #000000 100%);
            color: #fff;
            width: 36px;
            height: 150px;
            z-index: 2;
            padding-bottom: 0.5rem;
            border: 1px solid #000;
            border-top: 3px solid #333;
            border-radius: 0 0 6px 6px;
        }

        .piano-key:hover {
            transform: translateY(2px);
        }

        .piano-key:active,
        .piano-key.pressed {
            transform: translateY(4px);
            box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .white-key:active,
        .white-key.pressed {
            background: linear-gradient(to bottom, #e9ecef 0%, #dee2e6 30%, #ced4da 70%, #adb5bd 100%);
        }

        .black-key:active,
        .black-key.pressed {
            background: linear-gradient(to bottom, #6c757d 0%, #495057 30%, #343a40 70%, #212529 100%);
        }

        /* Responsive Piano Keyboard */
        @media (min-width: 1400px) {
            .piano-keyboard {
                min-width: 1500px;
            }
            .piano-wrapper {
                overflow-x: hidden;
            }
        }

        @media (max-width: 1399px) and (min-width: 1200px) {
            .piano-keyboard {
                min-width: 1200px;
            }
            .white-key {
                width: 50px;
            }
            .black-key {
                width: 30px;
            }
        }

        @media (max-width: 1199px) and (min-width: 900px) {
            .piano-keyboard {
                min-width: 900px;
            }
            .white-key {
                width: 42px;
            }
            .black-key {
                width: 25px;
            }
        }

        /* Component Cards */
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .component-card {
            background: var(--glass-bg);
            border-radius: 1rem;
            padding: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            text-align: center;
        }

        .component-icon {
            width: 80px;
            height: 80px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 2rem;
        }

        .component-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .component-description {
            color: var(--muted-text);
            line-height: 1.6;
        }

        /* Kit Cards */
        .kit-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .kit-card {
            background: var(--glass-bg);
            border-radius: 1.5rem;
            padding: 2.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .kit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .kit-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
        }

        .kit-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .kit-features {
            list-style: none;
            text-align: left;
            margin: 1.5rem 0;
        }

        .kit-features li {
            padding: 0.5rem 0;
            color: var(--muted-text);
            position: relative;
            padding-left: 1.5rem;
        }

        .kit-features li::before {
            content: 'Ã¢Å“"';
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
        }

        .buy-button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 2rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .buy-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
        }

        .buy-button:active {
            transform: translateY(0);
        }

        /* Cube Slides Responsive */
        .cube-slides-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 4rem;
        }

        .cube-slide-container {
            position: relative;
            width: 100%;
            height: 350px;
            border-radius: 1rem;
            overflow: hidden;
            border: 2px solid var(--border-color);
            background: var(--dark-card);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 768px) {
            .cube-slides-grid {
                grid-template-columns: 1fr !important;
                gap: 2rem !important;
            }
            .cube-slide-container {
                height: 280px !important;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-container {
                padding: 0 1rem;
            }

            .container {
                padding: 0 1rem;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .control-panel {
                grid-template-columns: 1fr;
            }

            .piano-wrapper {
                padding: 1rem;
            }

            .piano-keyboard {
                min-width: 1200px;
                height: 200px;
            }

            .white-key {
                width: 50px;
                height: 200px;
            }

            .black-key {
                width: 30px;
                height: 125px;
            }

            .recording-panel {
                gap: 0.5rem;
            }

            .record-btn {
                padding: 0.8rem 1.5rem;
                min-width: 120px;
                font-size: 0.9rem;
            }

            .kit-preview {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }

            .synth-interface {
                padding: 1.5rem;
            }

            .piano-keyboard {
                min-width: 1000px;
                height: 180px;
            }

            .white-key {
                width: 42px;
                height: 180px;
                font-size: 0.8rem;
            }

            .black-key {
                width: 25px;
                height: 110px;
                font-size: 0.7rem;
            }
        }

        /* Scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <div class="logo">ğŸ¹ DIY Synthesizer</div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <span id="menuIcon">â˜°</span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item active" data-section="welcome">í™ˆ</li>
                <li class="nav-item" data-section="theory">ì´ë¡ </li>
                <li class="nav-item" data-section="components">ë¶€í’ˆ</li>
                <li class="nav-item" data-section="synthesizer">ì‹ ë””ì‚¬ì´ì €</li>
                <li class="nav-item" data-section="kits">í‚¤íŠ¸</li>
            </ul>
        </nav>
    </header>

    <!-- Section Navigation -->
    <div class="section-navigation" id="sectionNavigation">
        <button class="nav-arrow" id="prevSection">â†</button>
        <button class="nav-arrow" id="nextSection">â†’</button>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Welcome Section -->
            <section id="welcome" class="section active">
                <div class="hero">
                    <h1 class="hero-title">DIY ì•„ë‚ ë¡œê·¸ ì‹ ë””ì‚¬ì´ì €</h1>
                    <p class="hero-subtitle">ì „ììŒì•…ì˜ ì„¸ê³„ë¡œ ë– ë‚˜ëŠ” íŠ¹ë³„í•œ ì—¬í–‰</p>
                </div>

                <div class="feature-cards">
                    <div class="feature-card" data-nav="theory">
                        <div class="feature-icon">ğŸ“š</div>
                        <div class="feature-title">í•™ìŠµ</div>
                        <p>ì‹ ë””ì‚¬ì´ì €ì˜ ì›ë¦¬ì™€ êµ¬ì¡°ë¥¼ ì‰½ê²Œ ì´í•´í•˜ê³  ì†Œë¦¬ì˜ ê¸°ë³¸ ê°œë…ë¶€í„° ì°¨ê·¼ì°¨ê·¼ ë°°ì›Œë³´ì„¸ìš”.</p>
                    </div>
                    <div class="feature-card" data-nav="synthesizer">
                        <div class="feature-icon">ğŸ¹</div>
                        <div class="feature-title">ì²´í—˜</div>
                        <p>ì§ì ‘ ì†Œë¦¬ë¥¼ ë§Œë“¤ê³  ì—°ì£¼í•´ë³´ëŠ” ì‹¤ìŠµì„ í†µí•´ ì‹ ë””ì‚¬ì´ì €ì˜ ë§¤ë ¥ì„ ê²½í—˜í•´ë³´ì„¸ìš”.</p>
                    </div>
                    <div class="feature-card" data-nav="kits">
                        <div class="feature-icon">ğŸ”§</div>
                        <div class="feature-title">ì œì‘</div>
                        <p>ë‚˜ë§Œì˜ ì‹ ë””ì‚¬ì´ì €ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë³´ê³  ì „ììŒì•… ì œì‘ì˜ ì¦ê±°ì›€ì„ ëŠê»´ë³´ì„¸ìš”.</p>
                    </div>
                </div>
            </section>

            <!-- Theory Section -->
            <section id="theory" class="section">
                <h2 class="section-title">ì†Œë¦¬ì˜ ê¸°ë³¸ ì›ë¦¬</h2>
                <p class="section-subtitle">ì‹ ë””ì‚¬ì´ì €ê°€ ì–´ë–»ê²Œ ì†Œë¦¬ë¥¼ ë§Œë“œëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤</p>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 1rem;">ì†Œë¦¬ë€ ë¬´ì—‡ì¸ê°€?</h3>
                    <p style="line-height: 1.8; color: var(--muted-text); margin-bottom: 1.5rem;">
                        ì†Œë¦¬ëŠ” ê³µê¸° ì¤‘ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì••ë ¥ì˜ ë³€í™”ì…ë‹ˆë‹¤. ë¬¼ì²´ê°€ ì§„ë™í•˜ë©´ ì£¼ë³€ ê³µê¸° ë¶„ìë“¤ì´ ì••ì¶•ë˜ê³  íŒ½ì°½í•˜ë©´ì„œ íŒŒë™ì´ ë§Œë“¤ì–´ì§€ê³ , 
                        ì´ íŒŒë™ì´ ìš°ë¦¬ ê·€ì— ë„ë‹¬í•˜ë©´ ì†Œë¦¬ë¡œ ì¸ì‹ë©ë‹ˆë‹¤.
                    </p>
                    <p style="line-height: 1.8; color: var(--muted-text);">
                        ì‹ ë””ì‚¬ì´ì €ëŠ” ì „ìì ìœ¼ë¡œ ì´ëŸ° ì§„ë™ì„ ë§Œë“¤ì–´ì„œ ì†Œë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ íŒŒí˜•(ì‚¬ì¸íŒŒ, ì‚¬ê°íŒŒ, í†±ë‹ˆíŒŒ ë“±)ì„ ë§Œë“¤ì–´ ë‚´ì–´ 
                        ê°ê¸° ë‹¤ë¥¸ ìŒìƒ‰ì˜ ì†Œë¦¬ë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem; text-align: center;">ê¸°ë³¸ íŒŒí˜•ë“¤</h3>
                    <div class="waveform-demo">
                        <div class="waveform-card" data-waveform="sine">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">ì‚¬ì¸íŒŒ (Sine)</h4>
                            <canvas class="waveform-canvas" width="200" height="80"></canvas>
                            <p style="color: var(--muted-text); margin: 1rem 0;">ê°€ì¥ ìˆœìˆ˜í•œ í˜•íƒœì˜ íŒŒí˜•ìœ¼ë¡œ, ë¶€ë“œëŸ½ê³  ë‘¥ê·¼ ì†Œë¦¬</p>
                            <button class="play-button" data-wave="sine" data-freq="440">ì¬ìƒ</button>
                        </div>
                        <div class="waveform-card" data-waveform="square">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">ì‚¬ê°íŒŒ (Square)</h4>
                            <canvas class="waveform-canvas" width="200" height="80"></canvas>
                            <p style="color: var(--muted-text); margin: 1rem 0;">ë‚ ì¹´ë¡­ê³  ë””ì§€í„¸ì ì¸ ì†Œë¦¬, í´ë¼ë¦¬ë„·ê³¼ ë¹„ìŠ·</p>
                            <button class="play-button" data-wave="square" data-freq="440">ì¬ìƒ</button>
                        </div>
                        <div class="waveform-card" data-waveform="sawtooth">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">í†±ë‹ˆíŒŒ (Sawtooth)</h4>
                            <canvas class="waveform-canvas" width="200" height="80"></canvas>
                            <p style="color: var(--muted-text); margin: 1rem 0;">ë°ê³  ë‚ ì¹´ë¡œìš´ ì†Œë¦¬, ë¸Œë¼ìŠ¤ ì•…ê¸°ì™€ ë¹„ìŠ·</p>
                            <button class="play-button" data-wave="sawtooth" data-freq="440">ì¬ìƒ</button>
                        </div>
                        <div class="waveform-card" data-waveform="triangle">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">ì‚¼ê°íŒŒ (Triangle)</h4>
                            <canvas class="waveform-canvas" width="200" height="80"></canvas>
                            <p style="color: var(--muted-text); margin: 1rem 0;">ì‚¬ì¸íŒŒì™€ ì‚¬ê°íŒŒì˜ ì¤‘ê°„ íŠ¹ì„±ì„ ê°€ì§„ ì†Œë¦¬</p>
                            <button class="play-button" data-wave="triangle" data-freq="440">ì¬ìƒ</button>
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem;">ì‹ ë””ì‚¬ì´ì €ì˜ êµ¬ì¡°</h3>
                    <div class="grid grid-3">
                        <div style="background: var(--dark-card); padding: 2rem; border-radius: 1rem; text-align: center;">
                            <div style="font-size: 2.5rem; margin-bottom: 1rem;">ğŸ“Š</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">ì˜¤ì‹¤ë ˆì´í„° (VCO)</h4>
                            <p style="color: var(--muted-text);">ê¸°ë³¸ ì†Œë¦¬ë¥¼ ë§Œë“œëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ì „ìì ìœ¼ë¡œ ì§„ë™ì„ ë§Œë“¤ì–´ ë‹¤ì–‘í•œ íŒŒí˜•ì˜ ì†Œë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
                        </div>
                        <div style="background: var(--dark-card); padding: 2rem; border-radius: 1rem; text-align: center;">
                            <div style="font-size: 2.5rem; margin-bottom: 1rem;">ğŸ›ï¸</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">í•„í„° (VCF)</h4>
                            <p style="color: var(--muted-text);">ì˜¤ì‹¤ë ˆì´í„°ì—ì„œ ë§Œë“  ì†Œë¦¬ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤. íŠ¹ì • ì£¼íŒŒìˆ˜ë¥¼ ê°•ì¡°í•˜ê±°ë‚˜ ì œê±°í•˜ì—¬ ìŒìƒ‰ì„ ë³€í™”ì‹œí‚µë‹ˆë‹¤.</p>
                        </div>
                        <div style="background: var(--dark-card); padding: 2rem; border-radius: 1rem; text-align: center;">
                            <div style="font-size: 2.5rem; margin-bottom: 1rem;">ğŸ“ˆ</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">ì•°í”„ (VCA)</h4>
                            <p style="color: var(--muted-text);">ì†Œë¦¬ì˜ í¬ê¸°ì™€ ì‹œê°„ì— ë”°ë¥¸ ë³€í™”ë¥¼ ì¡°ì ˆí•©ë‹ˆë‹¤. ì†Œë¦¬ê°€ ì–´ë–»ê²Œ ì‹œì‘ë˜ê³  ëë‚˜ëŠ”ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem;">ADSR ì—”ë²¨ë¡œí”„</h3>
                    <p style="color: var(--muted-text); margin-bottom: 2rem; line-height: 1.8;">
                        ADSRì€ ì†Œë¦¬ê°€ ì‹œê°„ì— ë”°ë¼ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ë¥¼ ì¡°ì ˆí•˜ëŠ” ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤.
                    </p>
                    <div class="grid grid-4">
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 2rem; color: var(--success-color); margin-bottom: 0.5rem;">A</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Attack</h4>
                            <p style="color: var(--muted-text); font-size: 0.9rem;">ê±´ë°˜ì„ ëˆ„ë¥¸ ìˆœê°„ë¶€í„° ì†Œë¦¬ê°€ ìµœëŒ€ í¬ê¸°ê¹Œì§€ ì˜¬ë¼ê°€ëŠ” ì‹œê°„</p>
                        </div>
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 2rem; color: var(--warning-color); margin-bottom: 0.5rem;">D</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Decay</h4>
                            <p style="color: var(--muted-text); font-size: 0.9rem;">ìµœëŒ€ í¬ê¸°ì—ì„œ ì§€ì† ë ˆë²¨ê¹Œì§€ ë–¨ì–´ì§€ëŠ” ì‹œê°„</p>
                        </div>
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 2rem; color: var(--accent-color); margin-bottom: 0.5rem;">S</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Sustain</h4>
                            <p style="color: var(--muted-text); font-size: 0.9rem;">ê±´ë°˜ì„ ëˆ„ë¥´ê³  ìˆëŠ” ë™ì•ˆ ìœ ì§€ë˜ëŠ” ì†Œë¦¬ì˜ í¬ê¸°</p>
                        </div>
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 2rem; color: var(--error-color); margin-bottom: 0.5rem;">R</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Release</h4>
                            <p style="color: var(--muted-text); font-size: 0.9rem;">ê±´ë°˜ì„ ë—€ í›„ ì†Œë¦¬ê°€ ì™„ì „íˆ ì‚¬ë¼ì§ˆ ë•Œê¹Œì§€ì˜ ì‹œê°„</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Components Section -->
            <section id="components" class="section">
                <h2 class="section-title">ì „ì ë¶€í’ˆ ê°€ì´ë“œ</h2>
                <p class="section-subtitle">ì‹ ë””ì‚¬ì´ì €ë¥¼ êµ¬ì„±í•˜ëŠ” ì£¼ìš” ì „ì ë¶€í’ˆë“¤ê³¼ ê·¸ ì—­í• ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤</p>

                <div class="component-grid">
                    <div class="component-card">
                        <div class="component-icon">ğŸ”§</div>
                        <div class="component-title">ì—°ì‚° ì¦í­ê¸° (Op-Amp)</div>
                        <div class="component-description">
                            ì‹ ë””ì‚¬ì´ì €ì˜ í•µì‹¬ ë¶€í’ˆìœ¼ë¡œ, ì‹ í˜¸ë¥¼ ì¦í­í•˜ê³  ë‹¤ì–‘í•œ ì—°ì‚°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. 
                            ì˜¤ì‹¤ë ˆì´í„°, í•„í„°, ë¯¹ì„œ ë“± ê±°ì˜ ëª¨ë“  íšŒë¡œì— ì‚¬ìš©ë©ë‹ˆë‹¤.
                            <br><br>
                            <strong>ê¶Œì¥ ëª¨ë¸:</strong> TL072, LM358, LM741
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">âš¡</div>
                        <div class="component-title">íŠ¸ëœì§€ìŠ¤í„°</div>
                        <div class="component-description">
                            ì‹ í˜¸ë¥¼ ì¦í­í•˜ê±°ë‚˜ ìŠ¤ìœ„ì¹˜ ì—­í• ì„ í•˜ëŠ” ë°˜ë„ì²´ ì†Œìì…ë‹ˆë‹¤. 
                            ì•„ë‚ ë¡œê·¸ íšŒë¡œì—ì„œ ì •ë°€í•œ ì‹ í˜¸ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.
                            <br><br>
                            <strong>ì£¼ìš” ì¢…ë¥˜:</strong> BJT (BC549), JFET (J113)
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">ã€°ï¸</div>
                        <div class="component-title">ì €í•­ (Resistor)</div>
                        <div class="component-description">
                            ì „ë¥˜ì˜ íë¦„ì„ ì œí•œí•˜ê³  ì „ì••ì„ ë¶„ë°°í•˜ëŠ” ë¶€í’ˆì…ë‹ˆë‹¤. 
                            íšŒë¡œì˜ ë™ì‘ì ì„ ì„¤ì •í•˜ê³  ì‹ í˜¸ ë ˆë²¨ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.
                            <br><br>
                            <strong>ê¶Œì¥:</strong> 1/4W íƒ„ì†Œí”¼ë§‰, ë‹¤ì–‘í•œ ì €í•­ê°’
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">ğŸ”‹</div>
                        <div class="component-title">ì»¤íŒ¨ì‹œí„°</div>
                        <div class="component-description">
                            ì „ê¸°ë¥¼ ì €ì¥í•˜ê³  í•„í„°ë§í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. 
                            AC ì‹ í˜¸ë¥¼ í†µê³¼ì‹œí‚¤ê³  DCë¥¼ ì°¨ë‹¨í•˜ëŠ” ì»¤í”Œë§ ê¸°ëŠ¥ë„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                            <br><br>
                            <strong>ì¢…ë¥˜:</strong> ì„¸ë¼ë¯¹, ì „í•´ ì»¤íŒ¨ì‹œí„°
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">ğŸšï¸</div>
                        <div class="component-title">ê°€ë³€ì €í•­ (Potentiometer)</div>
                        <div class="component-description">
                            ë³¼ë¥¨, ì£¼íŒŒìˆ˜, í•„í„° ì»·ì˜¤í”„ ë“±ì„ ì¡°ì ˆí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. 
                            ì‚¬ìš©ìê°€ ì§ì ‘ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ì»¨íŠ¸ë¡¤ ìš”ì†Œì…ë‹ˆë‹¤.
                            <br><br>
                            <strong>ê¶Œì¥ ê°’:</strong> 10kÎ©, 100kÎ© ë¡œê·¸/ë¦¬ë‹ˆì–´
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">ğŸŒ€</div>
                        <div class="component-title">ì¸ë•í„°</div>
                        <div class="component-description">
                            ìê¸°ì¥ì„ ì´ìš©í•´ ì „ë¥˜ ë³€í™”ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤. 
                            í•„í„° íšŒë¡œë‚˜ ë°œì§„ íšŒë¡œì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.
                            <br><br>
                            <strong>ìš©ë„:</strong> LC í•„í„°, ë°œì§„ íšŒë¡œ
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem; text-align: center;">DIY ì‹ ë””ì‚¬ì´ì € ë¶€í’ˆ ë¦¬ìŠ¤íŠ¸</h3>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; background: var(--dark-card); border-radius: 1rem; overflow: hidden;">
                            <thead>
                                <tr style="background: var(--primary-color); color: white;">
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">ë¶€í’ˆ</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">ê¶Œì¥ ëª¨ë¸</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">ìš©ë„</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">ìˆ˜ëŸ‰</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 1rem; color: var(--light-text);">Op-Amp</td>
                                    <td style="padding: 1rem; color: var(--accent-color);">TL072, LM358</td>
                                    <td style="padding: 1rem; color: var(--muted-text);">ì˜¤ì‹¤ë ˆì´í„°, í•„í„°, ì•°í”„</td>
                                    <td style="padding: 1rem; color: var(--light-text);">5-10ê°œ</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 1rem; color: var(--light-text);">BJT</td>
                                    <td style="padding: 1rem; color: var(--accent-color);">BC549, 2N3906</td>
                                    <td style="padding: 1rem; color: var(--muted-text);">ì¦í­, ìŠ¤ìœ„ì¹­</td>
                                    <td style="padding: 1rem; color: var(--light-text);">10-20ê°œ</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 1rem; color: var(--light-text);">JFET</td>
                                    <td style="padding: 1rem; color: var(--accent-color);">J113, 2N5457</td>
                                    <td style="padding: 1rem; color: var(--muted-text);">ë²„í¼, ë¯¹ì„œ</td>
                                    <td style="padding: 1rem; color: var(--light-text);">5-10ê°œ</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 1rem; color: var(--light-text);">ì €í•­</td>
                                    <td style="padding: 1rem; color: var(--accent-color);">1/4W íƒ„ì†Œí”¼ë§‰</td>
                                    <td style="padding: 1rem; color: var(--muted-text);">ì „ë¥˜ ì œí•œ, ë¶„ì••</td>
                                    <td style="padding: 1rem; color: var(--light-text);">ê°ì¢… ì €í•­ê°’</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 1rem; color: var(--light-text);">ì»¤íŒ¨ì‹œí„°</td>
                                    <td style="padding: 1rem; color: var(--accent-color);">ì„¸ë¼ë¯¹, ì „í•´</td>
                                    <td style="padding: 1rem; color: var(--muted-text);">í•„í„°ë§, ì»¤í”Œë§</td>
                                    <td style="padding: 1rem; color: var(--light-text);">ê°ì¢… ìš©ëŸ‰</td>
                                </tr>
                                <tr>
                                    <td style="padding: 1rem; color: var(--light-text);">ê°€ë³€ì €í•­</td>
                                    <td style="padding: 1rem; color: var(--accent-color);">10kÎ©, 100kÎ©</td>
                                    <td style="padding: 1rem; color: var(--muted-text);">ë³¼ë¥¨, ì£¼íŒŒìˆ˜ ì¡°ì ˆ</td>
                                    <td style="padding: 1rem; color: var(--light-text);">5-10ê°œ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Synthesizer Section -->
            <section id="synthesizer" class="section">
                <h2 class="section-title">ì¸í„°ë™í‹°ë¸Œ ì‹ ë””ì‚¬ì´ì €</h2>
                <p class="section-subtitle">ì§ì ‘ ì†Œë¦¬ë¥¼ ë§Œë“¤ê³  ì—°ì£¼í•´ë³´ì„¸ìš”</p>

                <div class="synth-interface">
                    <div class="control-panel">
                        <div class="control-group">
                            <h3>ğŸ›ï¸ ì˜¤ì‹¤ë ˆì´í„°</h3>
                            <div class="control-item">
                                <span class="control-label">íŒŒí˜•</span>
                                <select class="custom-select control-input" id="waveform">
                                    <option value="sine">ì‚¬ì¸íŒŒ (Sine)</option>
                                    <option value="square">ì‚¬ê°íŒŒ (Square)</option>
                                    <option value="sawtooth">í†±ë‹ˆíŒŒ (Sawtooth)</option>
                                    <option value="triangle">ì‚¼ê°íŒŒ (Triangle)</option>
                                </select>
                            </div>
                            <div class="control-item">
                                <span class="control-label">ë³¼ë¥¨</span>
                                <input type="range" class="range-slider control-input" id="volume" min="0" max="1" step="0.01" value="0.3">
                                <span class="control-value" id="volumeDisplay">0.30</span>
                            </div>
                            <div class="control-item">
                                <span class="control-label">ì˜¥íƒ€ë¸Œ</span>
                                <input type="range" class="range-slider control-input" id="octave" min="-2" max="2" step="1" value="0">
                                <span class="control-value" id="octaveDisplay">0</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <h3>ğŸšï¸ í•„í„° (VCF)</h3>
                            <div class="control-item">
                                <span class="control-label">íƒ€ì…</span>
                                <select class="custom-select control-input" id="filterType">
                                    <option value="lowpass">Low Pass</option>
                                    <option value="highpass">High Pass</option>
                                    <option value="bandpass">Band Pass</option>
                                </select>
                            </div>
                            <div class="control-item">
                                <span class="control-label">ì»·ì˜¤í”„</span>
                                <input type="range" class="range-slider control-input" id="cutoff" min="100" max="8000" step="50" value="2000">
                                <span class="control-value" id="cutoffDisplay">2000Hz</span>
                            </div>
                            <div class="control-item">
                                <span class="control-label">ê³µëª…</span>
                                <input type="range" class="range-slider control-input" id="resonance" min="0.1" max="20" step="0.1" value="1">
                                <span class="control-value" id="resonanceDisplay">1.0</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <h3>ğŸ“ˆ ì—”ë²¨ë¡œí”„ (ADSR)</h3>
                            <div class="control-item">
                                <span class="control-label">Attack</span>
                                <input type="range" class="range-slider control-input" id="attack" min="0" max="2" step="0.01" value="0.1">
                                <span class="control-value" id="attackDisplay">0.10s</span>
                            </div>
                            <div class="control-item">
                                <span class="control-label">Decay</span>
                                <input type="range" class="range-slider control-input" id="decay" min="0" max="2" step="0.01" value="0.3">
                                <span class="control-value" id="decayDisplay">0.30s</span>
                            </div>
                            <div class="control-item">
                                <span class="control-label">Sustain</span>
                                <input type="range" class="range-slider control-input" id="sustain" min="0" max="1" step="0.01" value="0.7">
                                <span class="control-value" id="sustainDisplay">0.70</span>
                            </div>
                            <div class="control-item">
                                <span class="control-label">Release</span>
                                <input type="range" class="range-slider control-input" id="release" min="0" max="3" step="0.01" value="0.5">
                                <span class="control-value" id="releaseDisplay">0.50s</span>
                            </div>
                        </div>
                    </div>

                    <div class="recording-panel">
                        <button class="record-btn primary" id="recordBtn">
                            <span>ğŸ”´</span> ë…¹ìŒ ì‹œì‘
                        </button>
                        <button class="record-btn success" id="playBtn">
                            <span>â–¶ï¸</span> ì¬ìƒ
                        </button>
                        <button class="record-btn warning" id="stopBtn">
                            <span>â¹ï¸</span> ì •ì§€
                        </button>
                        <button class="record-btn secondary" id="clearBtn">
                            <span>ğŸ—‘ï¸</span> ì´ˆê¸°í™”
                        </button>
                    </div>

                    <div class="status-display" id="statusDisplay">
                        ğŸ¹ ì‹ ë””ì‚¬ì´ì €ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤! ì•„ë˜ í‚¤ë³´ë“œë¥¼ ì—°ì£¼í•´ë³´ì„¸ìš”
                    </div>

                    <div class="piano-wrapper">
                        <div class="piano-keyboard" id="pianoKeyboard">
                            <!-- Piano keys will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Kits Section -->
            <section id="kits" class="section">
                <h2 class="section-title">DIY í‚¤íŠ¸</h2>
                <p class="section-subtitle">ì‹¤ì œë¡œ ë§Œë“¤ì–´ ë³¼ ìˆ˜ ìˆëŠ” ì‹ ë””ì‚¬ì´ì € í‚¤íŠ¸ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤</p>

                <div class="kit-preview">
                    <div class="kit-card">
                        <h3 class="kit-title">ğŸµ ì‚¬ê°íŒŒ ì˜¤ì‹¤ë ˆì´í„° í‚¤íŠ¸</h3>
                        <p style="color: var(--muted-text); margin-bottom: 2rem;">
                            ê¸°ë³¸ì ì¸ ì‚¬ê°íŒŒ ì‹ í˜¸ë¥¼ ìƒì„±í•˜ëŠ” ì˜¤ì‹¤ë ˆì´í„° í‚¤íŠ¸ì…ë‹ˆë‹¤. í”¼ì¹˜ì™€ ì†ë„ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆì–´ ë‹¤ì–‘í•œ ì‚¬ìš´ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <ul class="kit-features">
                            <li>ì‚¬ê°íŒŒ ì˜¤ì‹¤ë ˆì´í„° íšŒë¡œ</li>
                            <li>í”¼ì¹˜ ì»¨íŠ¸ë¡¤ (ì£¼íŒŒìˆ˜ ì¡°ì ˆ)</li>
                            <li>ì†ë„ ì¡°ì ˆ ê¸°ëŠ¥</li>
                            <li>LED ì¸ë””ì¼€ì´í„° í¬í•¨</li>
                            <li>ë¸Œë˜ë“œë³´ë“œ ê¸°ë°˜ (ë‚©ë•œ ë¶ˆí•„ìš”)</li>
                            <li>ìƒì„¸í•œ ì¡°ë¦½ ë§¤ë‰´ì–¼ ì œê³µ</li>
                        </ul>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);">
                            <div>
                                <div style="font-size: 0.9rem; color: var(--muted-text);">ì¡°ë¦½ì‹œê°„: 30ë¶„-1ì‹œê°„</div>
                                <div style="font-size: 1.5rem; color: var(--primary-color); font-weight: 700;">â‚©45,000</div>
                            </div>
                            <button class="buy-button" data-kit="square-oscillator">êµ¬ë§¤í•˜ê¸°</button>
                        </div>
                    </div>

                    <div class="kit-card">
                        <h3 class="kit-title">ğŸ“Š í„ìŠ¤ í­ ë³€ì¡°(PWM) í‚¤íŠ¸</h3>
                        <p style="color: var(--muted-text); margin-bottom: 2rem;">
                            í„ìŠ¤ì˜ í­ì„ ì¡°ì ˆí•˜ì—¬ ë…íŠ¹í•œ ì‚¬ìš´ë“œë¥¼ ë§Œë“œëŠ” PWM í‚¤íŠ¸ì…ë‹ˆë‹¤. ê°„ê²©ê³¼ í”¼ì¹˜ë¥¼ ì„¸ë°€í•˜ê²Œ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <ul class="kit-features">
                            <li>í„ìŠ¤ í­ ë³€ì¡°(PWM) íšŒë¡œ</li>
                            <li>í„ìŠ¤ ê°„ê²© ì¡°ì ˆ ê¸°ëŠ¥</li>
                            <li>í”¼ì¹˜ ì„¸ë°€ ì¡°ì •</li>
                            <li>ë“€í‹° ì‚¬ì´í´ ì»¨íŠ¸ë¡¤</li>
                            <li>ì‹¤ì‹œê°„ íŒŒí˜• ëª¨ë‹ˆí„°ë§</li>
                            <li>ì´ˆë³´ì ì¹œí™”ì  ì„¤ê³„</li>
                        </ul>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);">
                            <div>
                                <div style="font-size: 0.9rem; color: var(--muted-text);">ì¡°ë¦½ì‹œê°„: 30ë¶„-1ì‹œê°„</div>
                                <div style="font-size: 1.5rem; color: var(--primary-color); font-weight: 700;">â‚©45,000</div>
                            </div>
                            <button class="buy-button" data-kit="pwm-modulator">êµ¬ë§¤í•˜ê¸°</button>
                        </div>
                    </div>

                    <div class="kit-card">
                        <h3 class="kit-title">ğŸ¹ ì›ë²„íŠ¼ í”¼ì•„ë…¸ í‚¤íŠ¸</h3>
                        <p style="color: var(--muted-text); margin-bottom: 2rem;">
                            ê°„ë‹¨í•œ ë²„íŠ¼ í•˜ë‚˜ë¡œ í”¼ì•„ë…¸ ì†Œë¦¬ë¥¼ ë‚´ëŠ” í‚¤íŠ¸ì…ë‹ˆë‹¤. í”¼ì¹˜ ì¡°ì ˆê³¼ í„°ì¹˜ ê°ë„ ì¡°ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </p>
                        <ul class="kit-features">
                            <li>í„°ì¹˜ ì„¼ì„œ í”¼ì•„ë…¸ íšŒë¡œ</li>
                            <li>í”¼ì¹˜ ì¡°ì ˆ í¬í…ì…”ë¯¸í„°</li>
                            <li>í„°ì¹˜ ê°ë„ ì¡°ì • ê¸°ëŠ¥</li>
                            <li>ë‚´ì¥ ìŠ¤í”¼ì»¤ í¬í•¨</li>
                            <li>ì»´íŒ©íŠ¸í•œ ì¼€ì´ìŠ¤ ì œê³µ</li>
                            <li>ë°°í„°ë¦¬ êµ¬ë™ (3-6ì‹œê°„ ì‚¬ìš©)</li>
                        </ul>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);">
                            <div>
                                <div style="font-size: 0.9rem; color: var(--muted-text);">ì¡°ë¦½ì‹œê°„: 30ë¶„-1ì‹œê°„</div>
                                <div style="font-size: 1.5rem; color: var(--primary-color); font-weight: 700;">â‚©45,000</div>
                            </div>
                            <button class="buy-button" data-kit="one-button-piano">êµ¬ë§¤í•˜ê¸°</button>
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem; text-align: center;">ğŸµ ì‚¬ìš´ë“œí† ì´ íë¸Œ ì‹œë¦¬ì¦ˆ</h3>
                    <p style="color: var(--muted-text); margin-bottom: 3rem; text-align: center; line-height: 1.6;">
                        ì‚¬ìš´ë“œí† ì´ íë¸ŒëŠ” ì‰½ê³  ì¬ë¯¸ìˆê²Œ ì „ììŒì•…ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” êµìœ¡ìš© í‚¤íŠ¸ì…ë‹ˆë‹¤. 
                        ì•„ë˜ ìŠ¬ë¼ì´ë“œì—ì„œ ì œì‘ ê³¼ì •ê³¼ ê¸°ëŠ¥ì„ í™•ì¸í•´ë³´ì„¸ìš”!
                    </p>
                    
                    <div class="cube-slides-grid">
                        <!-- íë¸Œ01 ìŠ¬ë¼ì´ë“œ -->
                        <div style="text-align: center;">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem; font-size: 1.2rem;">ğŸ›ï¸ ì‚¬ìš´ë“œí† ì´ íë¸Œ01</h4>
                            <div class="cube-slide-container">
                                <iframe 
                                    src="https://www.canva.com/design/DAGqPNWGerM/JV_-VaOp1ggOGjEbCCatSA/view?embed" 
                                    style="width: 100%; height: 100%; border: none;"
                                    allowfullscreen>
                                </iframe>
                            </div>
                            <p style="color: var(--muted-text); margin-top: 1rem; font-size: 0.9rem;">ê¸°ë³¸ ì˜¤ì‹¤ë ˆì´í„°ì™€ í•„í„° ê¸°ëŠ¥</p>
                        </div>
                        
                        <!-- íë¸Œ02 ìŠ¬ë¼ì´ë“œ -->
                        <div style="text-align: center;">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem; font-size: 1.2rem;">ğŸ¹ ì‚¬ìš´ë“œí† ì´ íë¸Œ02</h4>
                            <div class="cube-slide-container">
                                <iframe 
                                    src="https://www.canva.com/design/DAGq2EFp4Bc/k5TPzkbMl7ZkRp8lxEVGRw/view?embed" 
                                    style="width: 100%; height: 100%; border: none;"
                                    allowfullscreen>
                                </iframe>
                            </div>
                            <p style="color: var(--muted-text); margin-top: 1rem; font-size: 0.9rem;">ì‹œí€€ì„œì™€ ë“œëŸ¼ë¨¸ì‹  ê¸°ëŠ¥</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem; text-align: center;">ğŸ›ï¸ ì¶”ê°€ ì˜µì…˜: 4ì±„ë„ ë¯¹ì„œ</h3>
                    <div style="background: var(--dark-card); padding: 2rem; border-radius: 1rem; text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸšï¸</div>
                        <h4 style="color: var(--accent-color); font-size: 1.3rem; margin-bottom: 1rem;">4ì±„ë„ ì˜¤ë””ì˜¤ ë¯¹ì„œ</h4>
                        <p style="color: var(--muted-text); margin-bottom: 1.5rem; line-height: 1.6;">
                            ì—¬ëŸ¬ ê°œì˜ ì‹ ë””ì‚¬ì´ì € í‚¤íŠ¸ë¥¼ ë™ì‹œì— ì—°ê²°í•˜ì—¬ ë¯¹ì‹±í•  ìˆ˜ ìˆëŠ” ì „ë¬¸ì ì¸ 4ì±„ë„ ë¯¹ì„œì…ë‹ˆë‹¤. 
                            ê° ì±„ë„ë³„ ë³¼ë¥¨ ì¡°ì ˆê³¼ ì´í€„ë¼ì´ì € ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
                        </p>
                        <div style="display: flex; justify-content: center; gap: 2rem; margin-top: 2rem;">
                            <div>
                                <div style="font-size: 0.9rem; color: var(--muted-text);">ì¡°ë¦½ì‹œê°„: 1-2ì‹œê°„</div>
                                <div style="font-size: 1.3rem; color: var(--primary-color); font-weight: 700;">â‚©89,000</div>
                            </div>
                            <button class="buy-button" data-kit="4ch-mixer">êµ¬ë§¤í•˜ê¸°</button>
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem; text-align: center;">ğŸ› ï¸ ì¡°ë¦½ ê°€ì´ë“œ</h3>
                    <div class="grid grid-3">
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“¦</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">1. ë¶€í’ˆ í™•ì¸</h4>
                            <p style="color: var(--muted-text);">í‚¤íŠ¸ì— í¬í•¨ëœ ëª¨ë“  ë¶€í’ˆì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ë¶€í’ˆ ë¦¬ìŠ¤íŠ¸ì™€ ëŒ€ì¡°í•´ë³´ì„¸ìš”.</p>
                        </div>
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">âš¡</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">2. ì „ì› ì„¤ì •</h4>
                            <p style="color: var(--muted-text);">ë¸Œë˜ë“œë³´ë“œì˜ ì „ì› ë ˆì¼ì„ ì„¤ì •í•˜ê³  ë°°í„°ë¦¬ íŒ©ì„ ì—°ê²°í•©ë‹ˆë‹¤.</p>
                        </div>
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ”Œ</div>
                            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">3. íšŒë¡œ ì—°ê²°</h4>
                            <p style="color: var(--muted-text);">íšŒë¡œë„ì— ë”°ë¼ ë¶€í’ˆë“¤ì„ ì°¨ë¡€ëŒ€ë¡œ ì—°ê²°í•˜ê³  í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color: var(--primary-color); font-size: 1.5rem; margin-bottom: 2rem; text-align: center;">â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</h3>
                    <div style="max-width: 800px; margin: 0 auto;">
                        <div style="margin-bottom: 2rem; padding: 1.5rem; background: var(--dark-card); border-radius: 1rem;">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">Q: ì „ìê³µí•™ ì§€ì‹ì´ ì—†ì–´ë„ ë§Œë“¤ ìˆ˜ ìˆë‚˜ìš”?</h4>
                            <p style="color: var(--muted-text);">A: ë„¤! ì´ˆê¸‰ì í‚¤íŠ¸ëŠ” ë‚©ë•œì´ í•„ìš” ì—†ëŠ” ë¸Œë˜ë“œë³´ë“œë¥¼ ì‚¬ìš©í•˜ë©°, ìƒì„¸í•œ ê°€ì´ë“œê°€ ì œê³µë©ë‹ˆë‹¤.</p>
                        </div>
                        <div style="margin-bottom: 2rem; padding: 1.5rem; background: var(--dark-card); border-radius: 1rem;">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">Q: ì¡°ë¦½ ì¤‘ ë¬¸ì œê°€ ìƒê¸°ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?</h4>
                            <p style="color: var(--muted-text);">A: ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì™€ ì´ë©”ì¼ ì§€ì›ì„ í†µí•´ ì–¸ì œë“ ì§€ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                        <div style="padding: 1.5rem; background: var(--dark-card); border-radius: 1rem;">
                            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">Q: ì™„ì„±ëœ ì‹ ë””ì‚¬ì´ì €ë¡œ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆë‚˜ìš”?</h4>
                            <p style="color: var(--muted-text);">A: ê¸°ë³¸ì ì¸ ë©œë¡œë”” ì—°ì£¼ë¶€í„° ì‹¤í—˜ì ì¸ ì‚¬ìš´ë“œ ë””ìì¸ê¹Œì§€ ë‹¤ì–‘í•œ ìŒì•… í™œë™ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Synthesizer Application Class
        class DIYSynthesizer {
            constructor() {
                this.audioContext = null;
                this.oscillators = new Map();
                this.gainNode = null;
                this.filter = null;
                this.isRecording = false;
                this.recordedNotes = [];
                this.currentOctave = 0;
                
                // Piano key configuration
                this.notes = [
                    { note: 'C', freq: 261.63, type: 'white', key: 'a', sharp: false },
                    { note: 'C#', freq: 277.18, type: 'black', key: 'w', sharp: true },
                    { note: 'D', freq: 293.66, type: 'white', key: 's', sharp: false },
                    { note: 'D#', freq: 311.13, type: 'black', key: 'e', sharp: true },
                    { note: 'E', freq: 329.63, type: 'white', key: 'd', sharp: false },
                    { note: 'F', freq: 349.23, type: 'white', key: 'f', sharp: false },
                    { note: 'F#', freq: 369.99, type: 'black', key: 't', sharp: true },
                    { note: 'G', freq: 392.00, type: 'white', key: 'g', sharp: false },
                    { note: 'G#', freq: 415.30, type: 'black', key: 'y', sharp: true },
                    { note: 'A', freq: 440.00, type: 'white', key: 'h', sharp: false },
                    { note: 'A#', freq: 466.16, type: 'black', key: 'u', sharp: true },
                    { note: 'B', freq: 493.88, type: 'white', key: 'j', sharp: false }
                ];

                this.init();
            }

            async init() {
                try {
                    // Initialize audio context
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    this.setupAudioNodes();
                    this.createPianoKeyboard();
                    this.setupEventListeners();
                    this.drawWaveforms();
                    this.updateStatus('ğŸ¹ ì‹ ë””ì‚¬ì´ì €ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤! í‚¤ë³´ë“œë¥¼ ì—°ì£¼í•´ë³´ì„¸ìš”');
                } catch (error) {
                    console.error('Audio initialization failed:', error);
                    this.updateStatus('âŒ› ì˜¤ë””ì˜¤ ì´ˆê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
                }
            }

            setupAudioNodes() {
                // Main gain node
                this.gainNode = this.audioContext.createGain();
                this.gainNode.gain.value = 0.3;

                // Filter node
                this.filter = this.audioContext.createBiquadFilter();
                this.filter.type = 'lowpass';
                this.filter.frequency.value = 2000;
                this.filter.Q.value = 1;

                // Connect audio graph
                this.filter.connect(this.gainNode);
                this.gainNode.connect(this.audioContext.destination);
            }

            createPianoKeyboard() {
                const keyboard = document.getElementById('pianoKeyboard');
                keyboard.innerHTML = '';

                // Get container width to determine appropriate key size
                const containerWidth = keyboard.parentElement.offsetWidth - 64; // minus padding
                const availableWidth = Math.min(containerWidth, 1500);
                
                // Calculate key dimensions based on available width
                const baseKeyWidth = Math.max(35, Math.min(60, availableWidth / 25)); // 25 is approximate white keys
                const blackKeyWidth = baseKeyWidth * 0.6;
                
                // Extended note pattern to show more octaves
                const notePattern = [
                    { note: 'C', freq: 130.81, type: 'white', key: 'z' },
                    { note: 'C#', freq: 138.59, type: 'black', key: 'q' },
                    { note: 'D', freq: 146.83, type: 'white', key: 'x' },
                    { note: 'D#', freq: 155.56, type: 'black', key: 'w' },
                    { note: 'E', freq: 164.81, type: 'white', key: 'c' },
                    { note: 'F', freq: 174.61, type: 'white', key: 'v' },
                    { note: 'F#', freq: 185.00, type: 'black', key: 'e' },
                    { note: 'G', freq: 196.00, type: 'white', key: 'b' },
                    { note: 'G#', freq: 207.65, type: 'black', key: 'r' },
                    { note: 'A', freq: 220.00, type: 'white', key: 'n' },
                    { note: 'A#', freq: 233.08, type: 'black', key: 't' },
                    { note: 'B', freq: 246.94, type: 'white', key: 'm' },
                    
                    // Middle octave (C4)
                    { note: 'C', freq: 261.63, type: 'white', key: 'a' },
                    { note: 'C#', freq: 277.18, type: 'black', key: '2' },
                    { note: 'D', freq: 293.66, type: 'white', key: 's' },
                    { note: 'D#', freq: 311.13, type: 'black', key: '3' },
                    { note: 'E', freq: 329.63, type: 'white', key: 'd' },
                    { note: 'F', freq: 349.23, type: 'white', key: 'f' },
                    { note: 'F#', freq: 369.99, type: 'black', key: '5' },
                    { note: 'G', freq: 392.00, type: 'white', key: 'g' },
                    { note: 'G#', freq: 415.30, type: 'black', key: '6' },
                    { note: 'A', freq: 440.00, type: 'white', key: 'h' },
                    { note: 'A#', freq: 466.16, type: 'black', key: '7' },
                    { note: 'B', freq: 493.88, type: 'white', key: 'j' },
                    
                    // Higher octave
                    { note: 'C', freq: 523.25, type: 'white', key: 'k' },
                    { note: 'C#', freq: 554.37, type: 'black', key: '9' },
                    { note: 'D', freq: 587.33, type: 'white', key: 'l' }
                ];

                // Create white keys first
                let whiteKeyIndex = 0;
                const whiteKeys = [];
                
                notePattern.forEach((noteData, index) => {
                    if (noteData.type === 'white') {
                        const key = document.createElement('div');
                        key.className = 'piano-key white-key';
                        key.dataset.note = noteData.note;
                        key.dataset.freq = noteData.freq;
                        key.dataset.key = noteData.key;
                        key.dataset.index = index;
                        key.textContent = noteData.note;
                        key.style.left = `${whiteKeyIndex * baseKeyWidth}px`;
                        key.style.width = `${baseKeyWidth}px`;
                        
                        whiteKeys.push({ element: key, index: whiteKeyIndex });
                        this.addKeyEventListeners(key, noteData);
                        keyboard.appendChild(key);
                        whiteKeyIndex++;
                    }
                });

                // Create black keys positioned correctly
                notePattern.forEach((noteData, index) => {
                    if (noteData.type === 'black') {
                        const key = document.createElement('div');
                        key.className = 'piano-key black-key';
                        key.dataset.note = noteData.note;
                        key.dataset.freq = noteData.freq;
                        key.dataset.key = noteData.key;
                        key.dataset.index = index;
                        key.textContent = noteData.note;
                        
                        // Calculate position based on white key positions
                        const whiteKeysBefore = notePattern.slice(0, index).filter(n => n.type === 'white').length;
                        const leftPosition = (whiteKeysBefore * baseKeyWidth) - (blackKeyWidth / 2);
                        key.style.left = `${leftPosition}px`;
                        key.style.width = `${blackKeyWidth}px`;
                        
                        this.addKeyEventListeners(key, noteData);
                        keyboard.appendChild(key);
                    }
                });

                // Set keyboard container width
                const totalWidth = whiteKeyIndex * baseKeyWidth;
                keyboard.style.width = `${totalWidth}px`;
                keyboard.style.minWidth = `${totalWidth}px`;

                // Show/hide scroll if needed
                const wrapper = keyboard.parentElement;
                if (totalWidth > containerWidth) {
                    wrapper.style.overflowX = 'auto';
                } else {
                    wrapper.style.overflowX = 'hidden';
                }

                // Update the notes array for other methods
                this.notes = notePattern;
            }

            addKeyEventListeners(keyElement, noteData) {
                // Touch events for mobile
                keyElement.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    this.playNote(noteData.freq, keyElement);
                });

                keyElement.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    this.stopNote(noteData.freq, keyElement);
                });

                // Mouse events for desktop
                keyElement.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    this.playNote(noteData.freq, keyElement);
                });

                keyElement.addEventListener('mouseup', (e) => {
                    e.preventDefault();
                    this.stopNote(noteData.freq, keyElement);
                });

                keyElement.addEventListener('mouseleave', () => {
                    this.stopNote(noteData.freq, keyElement);
                });
            }

            setupEventListeners() {
                // Control panel event listeners
                document.getElementById('waveform').addEventListener('change', (e) => {
                    this.updateStatus(`íŒŒí˜•ì´ ${e.target.options[e.target.selectedIndex].text}ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤`);
                });

                // Volume control
                document.getElementById('volume').addEventListener('input', (e) => {
                    const value = parseFloat(e.target.value);
                    this.gainNode.gain.value = value;
                    document.getElementById('volumeDisplay').textContent = value.toFixed(2);
                });

                // Octave control
                document.getElementById('octave').addEventListener('input', (e) => {
                    this.currentOctave = parseInt(e.target.value);
                    document.getElementById('octaveDisplay').textContent = e.target.value;
                });

                // Filter controls
                document.getElementById('filterType').addEventListener('change', (e) => {
                    this.filter.type = e.target.value;
                });

                document.getElementById('cutoff').addEventListener('input', (e) => {
                    const value = parseFloat(e.target.value);
                    this.filter.frequency.value = value;
                    document.getElementById('cutoffDisplay').textContent = value + 'Hz';
                });

                document.getElementById('resonance').addEventListener('input', (e) => {
                    const value = parseFloat(e.target.value);
                    this.filter.Q.value = value;
                    document.getElementById('resonanceDisplay').textContent = value.toFixed(1);
                });

                // ADSR controls
                ['attack', 'decay', 'sustain', 'release'].forEach(param => {
                    document.getElementById(param).addEventListener('input', (e) => {
                        const value = parseFloat(e.target.value);
                        const displayId = param + 'Display';
                        const displayValue = param === 'sustain' ? value.toFixed(2) : value.toFixed(2) + 's';
                        document.getElementById(displayId).textContent = displayValue;
                    });
                });

                // Recording controls
                document.getElementById('recordBtn').addEventListener('click', () => {
                    this.toggleRecording();
                });

                document.getElementById('playBtn').addEventListener('click', () => {
                    this.playRecording();
                });

                document.getElementById('stopBtn').addEventListener('click', () => {
                    this.stopPlayback();
                });

                document.getElementById('clearBtn').addEventListener('click', () => {
                    this.clearRecording();
                });

                // Keyboard input
                document.addEventListener('keydown', (e) => {
                    if (e.repeat) return;
                    const noteData = this.notes.find(n => n.key === e.key.toLowerCase());
                    if (noteData) {
                        const keyElement = document.querySelector(`[data-key="${noteData.key}"]`);
                        this.playNote(noteData.freq, keyElement);
                    }
                });

                document.addEventListener('keyup', (e) => {
                    const noteData = this.notes.find(n => n.key === e.key.toLowerCase());
                    if (noteData) {
                        const keyElement = document.querySelector(`[data-key="${noteData.key}"]`);
                        this.stopNote(noteData.freq, keyElement);
                    }
                });

                // Navigation
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', () => {
                        // This will be handled by the new navigation system
                    });
                });

                // Feature cards navigation - handled by new navigation system

                // Waveform demo buttons
                document.querySelectorAll('.play-button').forEach(button => {
                    button.addEventListener('click', () => {
                        this.playDemoWaveform(button.dataset.wave, parseFloat(button.dataset.freq));
                    });
                });

                // Audio context resume for mobile
                document.addEventListener('touchstart', () => {
                    if (this.audioContext && this.audioContext.state === 'suspended') {
                        this.audioContext.resume();
                    }
                }, { once: true });

                document.addEventListener('click', () => {
                    if (this.audioContext && this.audioContext.state === 'suspended') {
                        this.audioContext.resume();
                    }
                }, { once: true });
            }

            async playNote(frequency, keyElement) {
                if (!this.audioContext || this.oscillators.has(frequency)) return;

                try {
                    if (this.audioContext.state === 'suspended') {
                        await this.audioContext.resume();
                    }

                    // Apply octave shift
                    const adjustedFreq = frequency * Math.pow(2, this.currentOctave);
                    
                    // Create oscillator
                    const oscillator = this.audioContext.createOscillator();
                    const waveform = document.getElementById('waveform').value;
                    oscillator.type = waveform;
                    oscillator.frequency.value = adjustedFreq;

                    // Create envelope
                    const envelope = this.audioContext.createGain();
                    envelope.gain.value = 0;

                    // Get ADSR values
                    const attack = parseFloat(document.getElementById('attack').value);
                    const decay = parseFloat(document.getElementById('decay').value);
                    const sustain = parseFloat(document.getElementById('sustain').value);
                    const currentTime = this.audioContext.currentTime;

                    // Apply ADSR envelope
                    envelope.gain.setValueAtTime(0, currentTime);
                    envelope.gain.linearRampToValueAtTime(1, currentTime + attack);
                    envelope.gain.linearRampToValueAtTime(sustain, currentTime + attack + decay);

                    // Connect audio graph
                    oscillator.connect(envelope);
                    envelope.connect(this.filter);
                    oscillator.start();

                    // Store oscillator and envelope
                    this.oscillators.set(frequency, { oscillator, envelope });
                    keyElement.classList.add('pressed');

                    // Haptic feedback on mobile
                    if ('vibrate' in navigator) {
                        navigator.vibrate(30);
                    }

                    // Record if recording
                    if (this.isRecording) {
                        this.recordedNotes.push({
                            type: 'noteOn',
                            frequency: frequency,
                            time: Date.now(),
                            waveform: waveform,
                            octave: this.currentOctave
                        });
                    }

                } catch (error) {
                    console.error('Error playing note:', error);
                    this.updateStatus('âŒ› ìŒì„± ì¬ìƒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
                }
            }

            stopNote(frequency, keyElement) {
                const noteData = this.oscillators.get(frequency);
                if (!noteData) return;

                try {
                    const { oscillator, envelope } = noteData;
                    const release = parseFloat(document.getElementById('release').value);
                    const currentTime = this.audioContext.currentTime;

                    // Apply release envelope
                    envelope.gain.cancelScheduledValues(currentTime);
                    envelope.gain.setValueAtTime(envelope.gain.value, currentTime);
                    envelope.gain.linearRampToValueAtTime(0, currentTime + release);

                    // Stop oscillator after release
                    setTimeout(() => {
                        try {
                            oscillator.stop();
                            oscillator.disconnect();
                            envelope.disconnect();
                        } catch (e) {
                            // Oscillator might already be stopped
                        }
                    }, release * 1000);

                    this.oscillators.delete(frequency);
                    keyElement.classList.remove('pressed');

                    // Record if recording
                    if (this.isRecording) {
                        this.recordedNotes.push({
                            type: 'noteOff',
                            frequency: frequency,
                            time: Date.now()
                        });
                    }

                } catch (error) {
                    console.error('Error stopping note:', error);
                }
            }

            async playDemoWaveform(waveform, frequency) {
                if (!this.audioContext) return;

                try {
                    if (this.audioContext.state === 'suspended') {
                        await this.audioContext.resume();
                    }

                    const oscillator = this.audioContext.createOscillator();
                    const gain = this.audioContext.createGain();

                    oscillator.type = waveform;
                    oscillator.frequency.value = frequency;
                    gain.gain.value = 0.3;

                    oscillator.connect(gain);
                    gain.connect(this.audioContext.destination);

                    // Play for 1 second
                    oscillator.start();
                    oscillator.stop(this.audioContext.currentTime + 1);

                    this.updateStatus(`${waveform} íŒŒí˜•ì„ ì¬ìƒ ì¤‘ì…ë‹ˆë‹¤ (${frequency}Hz)`);

                } catch (error) {
                    console.error('Error playing demo waveform:', error);
                }
            }

            toggleRecording() {
                const recordBtn = document.getElementById('recordBtn');
                
                if (!this.isRecording) {
                    this.startRecording();
                    recordBtn.innerHTML = '<span>âºï¸</span> ë…¹ìŒ ì¤‘ì§€';
                    recordBtn.classList.add('recording');
                    this.updateStatus('ğŸ”´ ë…¹ìŒì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì—°ì£¼í•´ë³´ì„¸ìš”!');
                } else {
                    this.stopRecording();
                    recordBtn.innerHTML = '<span>ğŸ”´</span> ë…¹ìŒ ì‹œì‘';
                    recordBtn.classList.remove('recording');
                    this.updateStatus(`âœ… ë…¹ìŒì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ (${this.recordedNotes.length}ê°œ ì´ë²¤íŠ¸)`);
                }
            }

            startRecording() {
                this.isRecording = true;
                this.recordedNotes = [];
                this.recordStartTime = Date.now();
            }

            stopRecording() {
                this.isRecording = false;
            }

            playRecording() {
                if (this.recordedNotes.length === 0) {
                    this.updateStatus('âŒ› ì¬ìƒí•  ë…¹ìŒ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ë…¹ìŒí•´ì£¼ì„¸ìš”.');
                    return;
                }

                this.updateStatus('ğŸµ ë…¹ìŒëœ ì—°ì£¼ë¥¼ ì¬ìƒí•©ë‹ˆë‹¤...');
                const startTime = this.recordedNotes[0].time;

                this.recordedNotes.forEach((event, index) => {
                    const delay = event.time - startTime;
                    
                    setTimeout(() => {
                        const keyElement = document.querySelector(`[data-freq="${event.frequency}"]`);
                        
                        if (event.type === 'noteOn') {
                            // Restore settings
                            if (event.waveform) {
                                document.getElementById('waveform').value = event.waveform;
                            }
                            if (event.octave !== undefined) {
                                this.currentOctave = event.octave;
                                document.getElementById('octave').value = event.octave;
                                document.getElementById('octaveDisplay').textContent = event.octave;
                            }
                            this.playNote(event.frequency, keyElement);
                        } else if (event.type === 'noteOff') {
                            this.stopNote(event.frequency, keyElement);
                        }

                        // Check if it's the last event
                        if (index === this.recordedNotes.length - 1) {
                            setTimeout(() => {
                                this.updateStatus('âœ… ì¬ìƒì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤');
                            }, 1000);
                        }
                    }, delay);
                });
            }

            stopPlayback() {
                // Stop all currently playing notes
                this.oscillators.forEach((noteData, frequency) => {
                    const keyElement = document.querySelector(`[data-freq="${frequency}"]`);
                    this.stopNote(frequency, keyElement);
                });
                
                this.updateStatus('â¹ï¸ ì¬ìƒì´ ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤');
            }

            clearRecording() {
                this.recordedNotes = [];
                this.updateStatus('ğŸ—‘ï¸ ë…¹ìŒ ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
            }

            navigateToSection(sectionId) {
                // This method is now handled by the new navigation system
                // Keeping for backward compatibility
                const sections = ['welcome', 'theory', 'components', 'synthesizer', 'kits'];
                const sectionIndex = sections.indexOf(sectionId);
                if (sectionIndex !== -1) {
                    // Trigger the new navigation system
                    const event = new CustomEvent('navigateToSection', { detail: sectionIndex });
                    document.dispatchEvent(event);
                }
            }

            drawWaveforms() {
                const canvases = document.querySelectorAll('.waveform-canvas');
                
                canvases.forEach(canvas => {
                    const ctx = canvas.getContext('2d');
                    const waveform = canvas.parentElement.dataset.waveform;
                    
                    this.drawWaveform(ctx, waveform, canvas.width, canvas.height);
                });
            }

            drawWaveform(ctx, waveform, width, height) {
                ctx.clearRect(0, 0, width, height);
                ctx.strokeStyle = '#06b6d4';
                ctx.lineWidth = 2;
                ctx.beginPath();

                const centerY = height / 2;
                const amplitude = height * 0.3;
                const frequency = 4; // Number of cycles to show

                for (let x = 0; x < width; x++) {
                    const t = (x / width) * frequency * 2 * Math.PI;
                    let y;

                    switch (waveform) {
                        case 'sine':
                            y = centerY - Math.sin(t) * amplitude;
                            break;
                        case 'square':
                            y = centerY - (Math.sin(t) > 0 ? 1 : -1) * amplitude;
                            break;
                        case 'sawtooth':
                            y = centerY - (2 * (t % (2 * Math.PI)) / (2 * Math.PI) - 1) * amplitude;
                            break;
                        case 'triangle':
                            const phase = t % (2 * Math.PI);
                            if (phase < Math.PI) {
                                y = centerY - (2 * phase / Math.PI - 1) * amplitude;
                            } else {
                                y = centerY - (3 - 2 * phase / Math.PI) * amplitude;
                            }
                            break;
                        default:
                            y = centerY;
                    }

                    if (x === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }

                ctx.stroke();
            }

            updateStatus(message) {
                document.getElementById('statusDisplay').textContent = message;
            }
        }

        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new DIYSynthesizer();
            
            // Mobile menu functionality
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const navMenu = document.getElementById('navMenu');
            const menuIcon = document.getElementById('menuIcon');
            
            mobileMenuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuIcon.textContent = navMenu.classList.contains('active') ? 'âœ•' : 'â˜°';
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!mobileMenuToggle.contains(e.target) && !navMenu.contains(e.target)) {
                    navMenu.classList.remove('active');
                    menuIcon.textContent = 'â˜°';
                }
            });

            // Section navigation functionality
            const sections = ['welcome', 'theory', 'components', 'synthesizer', 'kits'];
            let currentSectionIndex = 0;

            const prevButton = document.getElementById('prevSection');
            const nextButton = document.getElementById('nextSection');

            function updateSectionNavigation() {
                prevButton.disabled = currentSectionIndex === 0;
                nextButton.disabled = currentSectionIndex === sections.length - 1;
            }

            function navigateToSectionByIndex(index) {
                if (index >= 0 && index < sections.length) {
                    currentSectionIndex = index;
                    
                    // Update navigation
                    document.querySelectorAll('.nav-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    document.querySelector(`[data-section="${sections[index]}"]`).classList.add('active');

                    // Show section
                    document.querySelectorAll('.section').forEach(section => {
                        section.classList.remove('active');
                    });
                    document.getElementById(sections[index]).classList.add('active');

                    // Close mobile menu
                    navMenu.classList.remove('active');
                    menuIcon.textContent = 'â˜°';

                    // Update section navigation
                    updateSectionNavigation();

                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }

            prevButton.addEventListener('click', () => {
                if (currentSectionIndex > 0) {
                    navigateToSectionByIndex(currentSectionIndex - 1);
                }
            });

            nextButton.addEventListener('click', () => {
                if (currentSectionIndex < sections.length - 1) {
                    navigateToSectionByIndex(currentSectionIndex + 1);
                }
            });

            // Override the original navigation method
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                item.addEventListener('click', () => {
                    const sectionId = item.dataset.section;
                    const sectionIndex = sections.indexOf(sectionId);
                    if (sectionIndex !== -1) {
                        navigateToSectionByIndex(sectionIndex);
                    }
                });
            });

            // Feature cards navigation
            document.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', () => {
                    const targetSection = card.dataset.nav;
                    if (targetSection) {
                        const sectionIndex = sections.indexOf(targetSection);
                        if (sectionIndex !== -1) {
                            navigateToSectionByIndex(sectionIndex);
                        }
                    }
                });
            });

            // Initialize section navigation
            updateSectionNavigation();

            // Listen for custom navigation events
            document.addEventListener('navigateToSection', (e) => {
                navigateToSectionByIndex(e.detail);
            });

            // Kit purchase functionality
            document.querySelectorAll('.buy-button').forEach(button => {
                button.addEventListener('click', () => {
                    const kitType = button.dataset.kit;
                    handleKitPurchase(kitType);
                });
            });

            function handleKitPurchase(kitType) {
                // Kit URLs - ì‹¤ì œ êµ¬ë§¤ ë§í¬ë¡œ ë³€ê²½í•˜ì„¸ìš”
                const kitUrls = {
                    'square-oscillator': 'https://example.com/kit/square-oscillator',
                    'pwm-modulator': 'https://example.com/kit/pwm-modulator', 
                    'one-button-piano': 'https://example.com/kit/one-button-piano',
                    '4ch-mixer': 'https://example.com/kit/4ch-mixer'
                };

                const url = kitUrls[kitType];
                if (url) {
                    // ìƒˆ ì°½ì—ì„œ êµ¬ë§¤ í˜ì´ì§€ ì—´ê¸°
                    window.open(url, '_blank');
                } else {
                    alert('êµ¬ë§¤ í˜ì´ì§€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!');
                }
            }
        });

        // Handle viewport height for mobile
        function setViewportHeight() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }

        window.addEventListener('load', setViewportHeight);
        window.addEventListener('resize', setViewportHeight);
        window.addEventListener('orientationchange', () => {
            setTimeout(setViewportHeight, 500);
        });

        // Prevent zoom on iOS
        document.addEventListener('gesturestart', function (e) {
            e.preventDefault();
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>

</html>
